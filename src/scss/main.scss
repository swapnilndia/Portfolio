@import 'tokens';
@import 'mixins';
@import 'background';
@import 'components';
@import 'components/header';
@import 'components/navigation';
@import 'components/mobile-menu';
@import 'components/alternating-section';

// Root page styles (demo)
html,
body {
  height: 100%;
  min-height: 100vh;
}
body {
  margin: 0;
  font-family:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', Inter, Roboto, system-ui,
    sans-serif;
  color: color(text-on-glass);
  overflow-x: hidden;
  position: relative;

  // Calm animated background
  @extend %calm-background;

  // Ensure background covers full viewport
  background-attachment: fixed;

  // Prevent scrolling when mobile menu is open
  &.mobile-menu-open {
    overflow: hidden;
    position: fixed;
    width: 100%;
  }
}

.wrap {
  position: relative;
  z-index: z(content);
  padding: clamp(8px, 2vw, 32px);
  padding-top: clamp(160px, 15vw, 200px);

  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
  box-sizing: border-box;
  min-width: 320px;
  overflow-x: hidden; // Prevent horizontal scroll
}

// Optional blob layer - styles are in _background.scss

// Top nav
.nav {
  @include nav;
}

// Hero area with two columns
.hero {
  @include hero;
  margin-top: space(6);

  // Reverse layout - cards on left, text on right
  &--reverse {
    grid-template-columns: 1fr 1.2fr;

    @include down(md) {
      grid-template-columns: 1fr;

      // On mobile, keep text first
      > div:first-child {
        order: 2;
      }
      > div:last-child {
        order: 1;
      }
    }
  }
}

// Right column stack
.stack {
  @include right-stack;
}

// Product card / Player / Icons
.product {
  @include product-card;
}
.player {
  @include mini-player;
}
.icon-row {
  @include icon-grid;
}

// Small helpers
.btn {
  cursor: pointer;
  border: none;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: space(3);
  font-family: inherit;

  &.primary {
    @include btn-primary;
  }
  &.ghost {
    @include btn-ghost;
  }
}
.chip {
  @include chip;
}
.on-glass {
  @include on-glass;
}

// Enhanced interactions
.icon-btn {
  cursor: pointer;
  border: none;
  background: transparent;
  color: inherit;

  &:hover {
    transform: translateY(-1px);
  }
}

.play {
  cursor: pointer;
  border: none;
  background: transparent;
  color: inherit;

  &:hover {
    transform: scale(1.05);
  }
}

// Hover effects for cards
.product:hover {
  transform: translateY(-2px);
  transition: transform 0.3s ease;
}

.player:hover {
  transform: translateY(-1px);
  transition: transform 0.3s ease;
}

.icon-card:hover {
  transform: translateY(-2px);
  transition: transform 0.3s ease;

  svg {
    transform: scale(1.1);
    transition: transform 0.2s ease;
  }
}

// Subtle pulse animation for status indicator
.player .cover {
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -2px;
    right: -2px;
    width: 8px;
    height: 8px;
    background: color(green-400);
    border-radius: 50%;
    animation: pulse 2s infinite;
  }
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(52, 211, 153, 0.7);
  }
  70% {
    box-shadow: 0 0 0 6px rgba(52, 211, 153, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(52, 211, 153, 0);
  }
}

// Demo footnote
.foot {
  margin-top: space(10);
  padding: space(6);
  font-size: 12.5px;
  opacity: 0.9;
  text-align: center;
  @include on-glass;

  p {
    margin: 0;
    @include glass(
      rgba(255, 255, 255, 0.08),
      rgba(255, 255, 255, 0.02),
      rgba(255, 255, 255, 0.15)
    );
    padding: space(4) space(6);
    border-radius: radius(pill);
    display: inline-block;
  }
}
